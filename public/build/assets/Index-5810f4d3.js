import{j as e,r as i,q as S,P as g,A as y}from"./app-950a37ab.js";import{C as N}from"./Copy-636b86d0.js";import{P as v}from"./Paginator-a8304500.js";import{C}from"./ConfirmModal-1e667bc5.js";import{s as E}from"./Methods-6042cced.js";import{I as T}from"./Input-63bad373.js";import{l as D}from"./lodash-d872bcf3.js";import"./index.esm-f9d9962a.js";const M=({columns:t,children:r})=>e.jsxs("table",{className:"w-full whitespace-no-wrap",children:[e.jsx("thead",{children:e.jsx("tr",{className:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b ",children:t&&t.map(a=>e.jsx("th",{className:"px-4 py-3 text-[11px] "+a.className,children:a.field},a.field))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r})]}),P=({children:t,className:r})=>e.jsx("tr",{className:`single-row  ${r}`,children:t}),o=({children:t,className:r})=>e.jsx("td",{className:`px-4 py-3 text-[13px] bg-white  whitespace-nowrap ${r}`,children:t}),z=({subscribers:t,filters:r})=>{const[a,c]=i.useState(r.search??""),[n,d]=i.useState(!0),[m,l]=i.useState(!1),[x,u]=i.useState(null),{delete:p,processing:h}=S({}),f=s=>{l(!0),u(s)},b=()=>{let s={};return a&&(s.search=a),s},j=D.debounce(function(){g.get(route("admin.subscriber.index"),b(),{preserveScroll:!0,preserveState:!0})},300);i.useEffect(()=>{n||j()},[a]),i.useEffect(()=>{d(!1)},[]);const w=()=>{p(route("admin.subscriber.destroy",x),{onSuccess:()=>{E("Subscriber Mail is deleted!"),l(!1)}})};return e.jsxs("div",{className:"p-4 bg-white",children:[e.jsx(C,{show:m,loading:h,onCancel:()=>l(!1),onConfirm:w}),e.jsx(T,{placeholder:"Search mail",value:a,onChange:s=>c(s.target.value),className:"w-[100%] md:w-[70%] lg:w-[50%]"}),e.jsx(M,{columns:[{field:"Email"},{field:"Actions"}],children:t.data.map(s=>e.jsxs(P,{children:[e.jsx(o,{children:e.jsx(N,{text:s.email,children:s.email})}),e.jsx(o,{children:e.jsx("button",{onClick:()=>f(s.id),className:"text-2xl text-primary",children:e.jsx(y,{})})})]},s.id))}),e.jsx("div",{children:e.jsx(v,{links:t.links})})]})};export{z as default};
