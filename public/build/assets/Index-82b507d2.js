import{r as t,q as g,P as w,j as e,A as v}from"./app-2def812d.js";import{T as C,a as T,b as i}from"./TableData-05100fcb.js";import{C as E}from"./Copy-580cbf16.js";import{P as y}from"./Paginator-f8fc4c08.js";import{C as D}from"./ConfirmModal-1c79807d.js";import{s as M}from"./Methods-cf00aebb.js";import{I as P}from"./Input-3362f6dd.js";import{l as N}from"./lodash-1799735a.js";import"./index.esm-28f73e45.js";import"./Modal-26367a10.js";const H=({subscribers:l,filters:o})=>{const[r,c]=t.useState(o.search??""),[n,m]=t.useState(!0),[d,a]=t.useState(!1),[u,f]=t.useState(null),{delete:x,processing:h}=g({}),p=s=>{a(!0),f(s)},b=()=>{let s={};return r&&(s.search=r),s},j=N.debounce(function(){w.get(route("admin.subscriber.index"),b(),{preserveScroll:!0,preserveState:!0})},300);t.useEffect(()=>{n||j()},[r]),t.useEffect(()=>{m(!1)},[]);const S=()=>{x(route("admin.subscriber.destroy",u),{onSuccess:()=>{M("Subscriber Mail is deleted!"),a(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full my-2",children:e.jsx(P,{placeholder:"Search mail",value:r,onChange:s=>c(s.target.value),className:"w-[100%] md:w-[70%] lg:w-[50%]"})}),e.jsxs("div",{className:"p-4 bg-white overflow-x-scroll",children:[e.jsx(D,{show:d,loading:h,onCancel:()=>a(!1),onConfirm:S}),e.jsx(C,{columns:[{field:"Email"},{field:"Actions"}],children:l.data.map(s=>e.jsxs(T,{children:[e.jsx(i,{children:e.jsx(E,{text:s.email,children:s.email})}),e.jsx(i,{children:e.jsx("button",{onClick:()=>p(s.id),className:"text-2xl text-primary",children:e.jsx(v,{})})})]},s.id))}),e.jsx("div",{children:e.jsx(y,{links:l.links})})]})]})};export{H as default};
