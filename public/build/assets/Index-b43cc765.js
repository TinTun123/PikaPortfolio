import{r as a,q as D,j as e,B as m}from"./app-fd5206a1.js";import{P as R}from"./Paginator-ba557791.js";import O from"./ContactCard-d7f64a8b.js";import{E}from"./EditorComponent-8725ca47.js";import{M as h}from"./Modal-e5e20d5b.js";import{I as k}from"./Input-c30d62ac.js";import{s as j}from"./Methods-68fc1655.js";import{C as B}from"./ConfirmModal-87d9d7fb.js";import{C as p}from"./Copy-7a3f79c2.js";import"./index.esm-6a5189bb.js";import"./index.esm-ec3ef85a.js";const J=({contacts:t})=>{const[u,r]=a.useState(!1),[f,i]=a.useState(!1),[s,x]=a.useState(null),{data:n,setData:o,post:g,processing:C,errors:c,delete:N}=D({}),[y,d]=a.useState(!1);a.useState({});const v=l=>{x(l),r(!0)},S=()=>{N(route("admin.contact.destroy",s),{onSuccess:()=>{j("Contact is deleted"),r(!1)}})},b=l=>{i(!0),o(l)},M=l=>{l.preventDefault(),console.log(n),g(route("admin.contact.reply"),{onSuccess:()=>{j(`Reply sent to ${n.email}`),i(!1)}})},w=l=>{d(!0),x(l)};return e.jsxs("div",{children:[e.jsxs(h,{show:y,onClose:()=>d(!1),children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1",children:["Name : ",e.jsx(p,{text:s==null?void 0:s.name,children:e.jsx("span",{children:s==null?void 0:s.name})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:["Email : ",e.jsx(p,{text:s==null?void 0:s.email,children:e.jsx("span",{children:s==null?void 0:s.email})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:["Phone : ",e.jsx(p,{text:s==null?void 0:s.phone,children:e.jsx("span",{children:s==null?void 0:s.phone})})]}),e.jsxs("p",{children:["Replied : ",e.jsx("span",{className:`${s!=null&&s.replied?"text-green-500":"text-rose-500"}`,children:s!=null&&s.replied?"Yes":"No"})]})]}),e.jsx("div",{children:e.jsx("p",{children:s==null?void 0:s.message})}),e.jsx(m,{outline:!0,className:"w-full mt-5",onClick:()=>d(!1),children:"Close"})]}),e.jsxs(h,{show:f,onClose:()=>i(!1),children:[e.jsxs("h3",{className:"font-medium text-lg my-3",children:["Reply to ",n.email]}),e.jsxs("form",{onSubmit:M,className:"flex flex-col gap-3",children:[e.jsx(k,{error:c.subject,label:"Subject",onChange:l=>o("subject",l.target.value)}),e.jsx("p",{className:"font-medium",children:"Body"}),e.jsx("div",{className:"h-[300px]",children:e.jsx(E,{value:n.body,onChange:l=>o("body",l)})}),e.jsx("p",{className:"text-red-500 text-sm",children:c.body}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{onClick:()=>i(!1),outline:!0,className:"w-full",children:"Cancel"}),e.jsx(m,{type:"submit",className:"w-full",children:"Reply"})]})]})]}),e.jsx(B,{loading:C,onCancel:()=>r(!1),onConfirm:S,show:u}),t.data.length===0&&e.jsx("div",{className:"flex justify-center mt-20",children:"No Message Yet"}),t.data.length>0&&e.jsxs("div",{className:"p-4 bg-white grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 ",children:[t.data.map(l=>e.jsx(O,{handleSeeDetail:w,handleReply:b,handleDeleteModal:v,contact:l},l.id)),e.jsx("div",{className:"col-span-full",children:e.jsx(R,{links:t.links})})]})]})};export{J as default};
